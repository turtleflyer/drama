(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{186:function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return u});var r=n(8),i=n.n(r),o=n(12),a=n(0),s=n.n(a);function u(e){return function(t){function n(e){var n;return(n=t.call(this,e)||this).myRef=s.a.createRef(),n}i()(n,t);var r=n.prototype;return r.componentDidMount=function(){this.placeholder.parentNode.replaceChild(e(),this.placeholder)},r.render=function(){var e=this;return Object(o.d)("div",{ref:function(t){e.placeholder=t}})},n}(s.a.Component)}},187:function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,r)}e.exports=n},189:function(e,t,n){"use strict";n.r(t);var r=n(72),i=n.n(r),o=(n(174),n(66),n(46)),a=n.n(o),s=n(8),u=n.n(s),p=n(221),l=n.n(p),c=(n(45),n(225),n(103),n(104),n(109),n(102),n(67),n(44),n(106),n(226),function(){function e(){var e=this;this.eventsStore=new Map,this.elementsMap=new Map,this.customEventTypes=new Set,this.onAddElementActionsMap=new Map,this.exhaustTypesMap=new Map,this.routine={interpretTarget:function(e){return e}},this.propagationKey=Symbol("propagationKey"),this.nullKey=Symbol("@@eventswork/nullKey"),this.parentKey=Symbol("@@eventswork/parentKey"),this.addElementEventType=Symbol("@@addElement"),this.registerEventType(this.addElementEventType),this.RoleSet=this.invokeRoleSetClass(),this.worker=new this.RoleSet([]),this.fireFromQueueType=Symbol("@@eventswork/fireFromQueue"),this.fireFromQueueId=Symbol("@@eventswork/fireFromQueueId"),this.queueData=[],this.countTypesInQueue=new Map,this.worker.name="@@worker",this.eventChain({roleSet:this.worker,type:this.fireFromQueueType,action:function(){if(e.queueData.length>0){var t=e.queueData.shift(),n=t.target,r=t.type,i=t.event;e.fireEvent(n,r,i);var o=e.countTypesInQueue.get(r)-1;0===o&&e.exhaustTypesMap.has(r)&&(e.exhaustTypesMap.get(r)(r),e.exhaustTypesMap.delete(r)),e.countTypesInQueue.set(r,o),Promise.resolve().then(function(){var t;return e.getCallback(((t={})[e.nullKey]=!0,t[e.parentKey]=e.worker,t),e.fireFromQueueType)()})}}},this.fireFromQueueId),this.defineRoutine=this.defineRoutine.bind(this),this.managePropagation=this.managePropagation.bind(this),this.stopBubbling=this.stopBubbling.bind(this),this.stopPropagatingNested=this.stopPropagatingNested.bind(this),this.setActionOnAddElement=this.setActionOnAddElement.bind(this),this.fireEvent=this.fireEvent.bind(this),this.eventChain=this.eventChain.bind(this),this.waitWhenTypeExhausted=this.waitWhenTypeExhausted.bind(this)}e.getSomeFromDeep=function(e,t,n){var r;return(r=e instanceof Map?e.get(t):e[t])||(r=n(),e instanceof Map?e.set(t,r):e[t]=r),r},e.getFromDeepMap=function(t,n){var r=e.getSomeFromDeep(t,n,function(){return new Map});return{map:r,next:e.getFromDeepMap.bind(null,r)}};var t=e.prototype;return t.defineRoutine=function(e){var t=e.interpretTarget,n=e.defaultPropagation;Object.assign(this.routine,{interpretTarget:t,defaultPropagation:n})},t.registerEventType=function(e){this.customEventTypes.add(e)},t.managePropagation=function(e,t){var n=t.stopBubbling,r=t.stopPropagatingNested;return e[this.propagationKey]||(e[this.propagationKey]={}),Object.assign(e[this.propagationKey],{stopBubbling:n?new Set:null,stopPropagatingNested:r}),e},t.stopBubbling=function(e){return void 0===e&&(e={}),this.managePropagation(e,{stopBubbling:!0}),e.stopPropagatingNested=this.stopPropagatingNested.bind(null,e),e},t.stopPropagatingNested=function(e){return void 0===e&&(e={}),this.managePropagation(e,{stopPropagatingNested:!0}),e.stopBubbling=this.stopBubbling.bind(null,e),e},t.applyDefaultPropagation=function(e){if(!e[this.propagationKey]){e[this.propagationKey]={};var t=this.routine.defaultPropagation;t&&this.managePropagation(e,t)}return e},t.getCallback=function(t,n){var r=this;return function(o){void 0===o&&(o={}),function t(n,o,a,s){var u=s;s||(u=n[r.parentKey]||r.elementsMap.get(n).belong);var p=e.getFromDeepMap(r.eventsStore,u).map;p.has(o)&&i()(p.get(o).entries()).forEach(function(e){var t=e[0];(0,e[1])({target:n,roleSet:n[r.parentKey]||r.elementsMap.get(n).belong,type:o,event:a,eventID:t})});var l=r.elementsMap.get(u);l&&t(n,o,a,l.belong)}(t,n,r.applyDefaultPropagation(o))}},t.addCallback=function(t,n){var r=this.elementsMap.get(t),i=e.getSomeFromDeep(r,"types",function(){return new Set});i.has(n)||(this.routine.interpretTarget(t)&&this.routine.interpretTarget(t).addEventListener(n,this.getCallback(t,n)),i.add(n))},t.addCallbackToChildren=function(t,n){var r=this;t.size>0&&(0===e.getFromDeepMap(this.eventsStore,t).next(n).map.size&&i()(t).forEach(function(e){e instanceof r.RoleSet?r.addCallbackToChildren(e,n):r.addCallback(e,n)}))},t.combineTypes=function(t,n){void 0===n&&(n=[]);var r=n.concat(i()(e.getFromDeepMap(this.eventsStore,t).map.keys()).filter(function(e){return"string"==typeof e})),o=this.elementsMap.get(t);return o&&(r=this.combineTypes(o.belong,r)),r},t.invokeRoleSetClass=function(){var t=this;return function(n){function r(e){var r;return r=n.call(this,e)||this,e&&e.forEach(function(e){t.elementsMap.set(e,{belong:a()(r)})}),t.onAddElementActionsMap.set(a()(r),function(){}),t.eventChain({roleSet:a()(r),type:t.addElementEventType,action:function(){t.onAddElementActionsMap.get(a()(r)).apply(void 0,arguments)}},Symbol("@@elementAdded")),r}u()(r,n);var o=r.prototype;return o.addElement=function(n){if(this.has(n))return this;this.add(n);var i=e.getSomeFromDeep(t.elementsMap,n,function(){return n instanceof r?{}:{types:new Set}});return i.belong&&i.belong.delete(n),i.belong=this,t.combineTypes(this).forEach(function(e){n instanceof r?t.addCallbackToChildren(n,e):t.addCallback(n,e)}),t.fireEvent(new Set([n]),t.addElementEventType,t.managePropagation({},{stopBubbling:!0,stopPropagatingNested:!0})),this},o.deleteElement=function(e){return this.delete(e),t.elementsMap.get(e).belong=null,this},o.addElements=function(e){var t=this;return e.forEach(function(e){return t.addElement(e)}),this},o.clearElements=function(){var e=this;return i()(this).forEach(function(t){return e.deleteElement(t)}),this},r}(l()(Set))},t.setActionOnAddElement=function(e,t){return this.onAddElementActionsMap.set(e,t),e},e.invokePromiseHandle=function(){var e;return{promise:new Promise(function(t){e=t}),promiseHandle:e}},t.waitGroupEvent=function(t,n,r){var i=e.invokePromiseHandle(),o=i.promise,a=i.promiseHandle;return"string"==typeof n&&this.addCallbackToChildren(t,n),e.getFromDeepMap(this.eventsStore,t).next(n).map.set(r,a),o},t.fireEvent=function(e,t,n){var r=this;if(void 0===n&&(n={}),this.applyDefaultPropagation(n),e instanceof Set){var o,a,s;if(e.size>0)a=i()(e);else a=[(s={},s[this.nullKey]=!0,s[this.parentKey]=e,s)];a.forEach(function(e){if(!(n[r.propagationKey].stopPropagatingNested&&e instanceof r.RoleSet)){r.queueData.push({target:e,type:t,event:n});var i=r.countTypesInQueue.get(t);r.countTypesInQueue.set(t,i?i+1:1)}}),this.getCallback(((o={})[this.nullKey]=!0,o[this.parentKey]=this.worker,o),this.fireFromQueueType)()}else this.getCallback(e,t)(n)},t.eventChain=function(e,t){var n=this,r=e.roleSet,i=e.type,o=e.action,a=e.typeRegistered,s=e.checkIfTerminate||function(){return!1},u=Object.assign({},e,{checkIfTerminate:s});a||"string"==typeof i||this.customEventTypes.has(i)||(this.registerEventType(i),u.typeRegistered=!0);var p=t;return t||(p="string"==typeof i?Symbol(i+"-eventID"):Symbol(i.description+"-eventID")),this.waitGroupEvent(r,i,p).then(function(e){var t=e.target,a=e.event;a[n.propagationKey].stopBubbling&&a[n.propagationKey].stopBubbling.has(t)?n.eventChain(u,p):s(e)?n.eventsStore.get(r).get(i).delete(p):(o(e),a[n.propagationKey].stopBubbling&&a[n.propagationKey].stopBubbling.add(t),n.eventChain(u,p))}),t},t.waitWhenTypeExhausted=function(t){var n=t;if("onAddElement"===t&&(n=this.addElementEventType),this.countTypesInQueue.get(n)){var r=e.invokePromiseHandle(),i=r.promise,o=r.promiseHandle;return this.exhaustTypesMap.set(n,o),i}return Promise.resolve()},e}()),h=new c,d=h.RoleSet,f=h.defineRoutine,g=(h.managePropagation,h.stopBubbling,h.stopPropagatingNested,h.setActionOnAddElement),m=(h.fireEvent,h.eventChain),v=(h.waitWhenTypeExhausted,{border:"1px solid black",width:"3rem",height:"3rem",position:"relative",display:"inline-block","background-color":"white"}),y={"background-color":"Khaki"};var b=document.createElement("div");var E=function(e){for(var t=[],n=0;n<9;n++){var r=new e;b.appendChild(r.node),t.push(r),(n+1)%3==0&&b.appendChild(document.createElement("br"))}return t},w={"line-height":"2rem","font-style":"italic",color:"Red","font-size":"1.5rem"},T=document.createElement("div");function C(){for(;T.firstChild;)T.removeChild(T.firstChild)}Object.assign(T.style,{height:"3rem"});var k=function(e){var t=document.createElement("div");t.appendChild(document.createTextNode(e)),Object.assign(t.style,w),C(),T.appendChild(t),window.setTimeout(C,1500)};n(107),n(108);var S=document.createElement("button");S.innerText="Restart",Object.assign(S.style,{width:"7rem",height:"2rem"});var M,P=S,x=function(){var e;this.node=(e=document.createElement("div"),Object.assign(e.style,v),e)};f({interpretTarget:function(e){return e.node}});var O=["X won","O won"],K=["markX","markO"];Object.assign(x.prototype,((M={})[K[0]]=function(){var e={position:"absolute",left:"-0.24rem",top:"1.24rem",width:"3rem",height:"0",border:"0.3rem solid RoyalBlue",backgroundColor:"RoyalBlue",margin:"0","border-radius":"0.3rem"},t=document.createElement("div"),n=document.createElement("div");return Object.assign(t.style,e,{transform:"rotate(45deg)"}),Object.assign(n.style,e,{transform:"rotate(135deg)"}),this.resetCell(),this.node.appendChild(t),this.node.appendChild(n),this},M[K[1]]=function(){var e=document.createElement("div");return Object.assign(e.style,{position:"absolute",left:"0.15rem",top:"0.15rem",width:"1.5rem",height:"1.5rem",border:"0.6rem solid Red",margin:"0","border-radius":"2.1rem"}),this.resetCell(),this.node.appendChild(e),this},M.markAsWin=function(){Object.assign(this.node.style,y)},M.resetCell=function(){for(;this.node.firstChild;)this.node.removeChild(this.node.firstChild);return Object.assign(this.node.style,v),this},M));var R=E(x),D=new d(R);var A,F=K.map(function(e,t){var n,r=new d;return g(r,(n=[],function(r){var o=r.target;1===r.roleSet.size&&(n=[]),o[e]();var a=function(e){for(var t=0,n=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];t<n.length;t++){var r=[],i=n[t],o=Array.isArray(i),a=0;for(i=o?i:i[Symbol.iterator]();;){var s;if(o){if(a>=i.length)break;s=i[a++]}else{if((a=i.next()).done)break;s=a.value}var u=s;if(!e.includes(u)){r=[];break}r.push(u)}if(r.length>0)return r}return!1}(n=function(e,t){var n=R.indexOf(e);return[].concat(i()(t),[n]).sort(function(e,t){return e-t})}(o,n));a?(D.clearElements(),F.clearElements(),a.forEach(function(e){R[e].markAsWin()}),k(O[t])):0===D.size&&(F.clearElements(),k("Game is over"))})),m({roleSet:r,type:"click",action:function(){k("The cell is already set")}}),r});function j(){var e=document.createElement("div");return Object.assign(e.style,{"line-height":"0","box-sizing":"content-box"}),e.appendChild(b),e.appendChild(T),e.appendChild(P),e}F.clearElements=function(){this.forEach(function(e){return e.clearElements()})},m({roleSet:D,type:"click",action:(A=0,function(e){var t=e.target;9===e.roleSet.size&&(A=0),A=function(e,t){return F[e].addElement(t),1-e}(A,t)})}),P.onclick=function(){R.forEach(function(e){return e.resetCell()}),D.addElements(R)},n.d(t,"default",function(){return j})},221:function(e,t,n){var r=n(222),i=n(187),o=n(223),a=n(224);function s(t){var n="function"==typeof Map?new Map:void 0;return e.exports=s=function(e){if(null===e||!o(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return a(e,arguments,r(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i(t,e)},s(t)}e.exports=s},222:function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},223:function(e,t){e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}},224:function(e,t,n){var r=n(187);function i(t,n,o){return!function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?e.exports=i=function(e,t,n){var i=[null];i.push.apply(i,t);var o=new(Function.bind.apply(e,i));return n&&r(o,n.prototype),o}:e.exports=i=Reflect.construct,i.apply(null,arguments)}e.exports=i},225:function(e,t,n){var r=n(14).f,i=Function.prototype,o=/^\s*function ([^ (]*)/;"name"in i||n(10)&&r(i,"name",{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(e){return""}}})},226:function(e,t,n){"use strict";var r=n(110),i=n(73);e.exports=n(111)("Map",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{get:function(e){var t=r.getEntry(i(this,"Map"),e);return t&&t.v},set:function(e,t){return r.def(i(this,"Map"),0===e?0:e,t)}},r,!0)}}]);
//# sourceMappingURL=1-3e061c59d8aaed7a4870.js.map