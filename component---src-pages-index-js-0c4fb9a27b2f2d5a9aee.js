(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{145:function(e,t,n){"use strict";n.r(t);var i=n(0),r=n.n(i),o=n(7),s=n.n(o);n(166),n(34);class a{constructor(){this.eventsStore=new Map,this.elementsMap=new Map,this.customEventTypes=new Set,this.onAddElementActionsMap=new Map,this.exhaustTypesMap=new Map,this.routine={interpretTarget:e=>e},this.propagationKey=Symbol("propagationKey"),this.nullKey=Symbol("@@eventswork/nullKey"),this.parentKey=Symbol("@@eventswork/parentKey"),this.addElementEventType=Symbol("@@addElement"),this.registerEventType(this.addElementEventType),this.RoleSet=this.invokeRoleSetClass(),this.worker=new this.RoleSet([]),this.fireFromQueueType=Symbol("@@eventswork/fireFromQueue"),this.fireFromQueueId=Symbol("@@eventswork/fireFromQueueId"),this.queueData=[],this.countTypesInQueue=new Map,this.worker.name="@@worker",this.eventChain({roleSet:this.worker,type:this.fireFromQueueType,action:()=>{if(this.queueData.length>0){const{target:e,type:t,event:n}=this.queueData.shift();this.fireEvent(e,t,n);const i=this.countTypesInQueue.get(t)-1;0===i&&this.exhaustTypesMap.has(t)&&(this.exhaustTypesMap.get(t)(t),this.exhaustTypesMap.delete(t)),this.countTypesInQueue.set(t,i),Promise.resolve().then(()=>this.getCallback({[this.nullKey]:!0,[this.parentKey]:this.worker},this.fireFromQueueType)())}}},this.fireFromQueueId),this.defineRoutine=this.defineRoutine.bind(this),this.managePropagation=this.managePropagation.bind(this),this.stopBubbling=this.stopBubbling.bind(this),this.stopPropagatingNested=this.stopPropagatingNested.bind(this),this.setActionOnAddElement=this.setActionOnAddElement.bind(this),this.fireEvent=this.fireEvent.bind(this),this.eventChain=this.eventChain.bind(this),this.waitWhenTypeExhausted=this.waitWhenTypeExhausted.bind(this)}static getSomeFromDeep(e,t,n){let i;return(i=e instanceof Map?e.get(t):e[t])||(i=n(),e instanceof Map?e.set(t,i):e[t]=i),i}static getFromDeepMap(e,t){const n=a.getSomeFromDeep(e,t,()=>new Map);return{map:n,next:a.getFromDeepMap.bind(null,n)}}defineRoutine({interpretTarget:e,defaultPropagation:t}){Object.assign(this.routine,{interpretTarget:e,defaultPropagation:t})}registerEventType(e){this.customEventTypes.add(e)}managePropagation(e,t){const{stopBubbling:n,stopPropagatingNested:i}=t;return e[this.propagationKey]||(e[this.propagationKey]={}),Object.assign(e[this.propagationKey],{stopBubbling:n?new Set:null,stopPropagatingNested:i}),e}stopBubbling(e={}){return this.managePropagation(e,{stopBubbling:!0}),e.stopPropagatingNested=this.stopPropagatingNested.bind(null,e),e}stopPropagatingNested(e={}){return this.managePropagation(e,{stopPropagatingNested:!0}),e.stopBubbling=this.stopBubbling.bind(null,e),e}applyDefaultPropagation(e){if(!e[this.propagationKey]){e[this.propagationKey]={};const{defaultPropagation:t}=this.routine;t&&this.managePropagation(e,t)}return e}getCallback(e,t){const n=(e,t,i,r)=>{let o=r;r||(o=e[this.parentKey]||this.elementsMap.get(e).belong);const s=a.getFromDeepMap(this.eventsStore,o).map;s.has(t)&&[...s.get(t).entries()].forEach(n=>{const[r,o]=n;o({target:e,roleSet:e[this.parentKey]||this.elementsMap.get(e).belong,type:t,event:i,eventID:r})});const l=this.elementsMap.get(o);l&&n(e,t,i,l.belong)};return(i={})=>{n(e,t,this.applyDefaultPropagation(i))}}addCallback(e,t){const n=this.elementsMap.get(e),i=a.getSomeFromDeep(n,"types",()=>new Set);i.has(t)||(this.routine.interpretTarget(e)&&this.routine.interpretTarget(e).addEventListener(t,this.getCallback(e,t)),i.add(t))}addCallbackToChildren(e,t){if(e.size>0){0===a.getFromDeepMap(this.eventsStore,e).next(t).map.size&&[...e].forEach(e=>{e instanceof this.RoleSet?this.addCallbackToChildren(e,t):this.addCallback(e,t)})}}combineTypes(e,t=[]){let n=t.concat([...a.getFromDeepMap(this.eventsStore,e).map.keys()].filter(e=>"string"==typeof e));const i=this.elementsMap.get(e);return i&&(n=this.combineTypes(i.belong,n)),n}invokeRoleSetClass(){const e=this;return class t extends Set{constructor(t){super(t),t&&t.forEach(t=>{e.elementsMap.set(t,{belong:this})}),e.onAddElementActionsMap.set(this,()=>{}),e.eventChain({roleSet:this,type:e.addElementEventType,action:(...t)=>{e.onAddElementActionsMap.get(this)(...t)}},Symbol("@@elementAdded"))}addElement(n){if(this.has(n))return this;this.add(n);const i=a.getSomeFromDeep(e.elementsMap,n,()=>n instanceof t?{}:{types:new Set});return i.belong&&i.belong.delete(n),i.belong=this,e.combineTypes(this).forEach(i=>{n instanceof t?e.addCallbackToChildren(n,i):e.addCallback(n,i)}),e.fireEvent(new Set([n]),e.addElementEventType,e.managePropagation({},{stopBubbling:!0,stopPropagatingNested:!0})),this}deleteElement(t){return this.delete(t),e.elementsMap.get(t).belong=null,this}addElements(e){return e.forEach(e=>this.addElement(e)),this}clearElements(){return[...this].forEach(e=>this.deleteElement(e)),this}}}setActionOnAddElement(e,t){return this.onAddElementActionsMap.set(e,t),e}static invokePromiseHandle(){let e;return{promise:new Promise(t=>{e=t}),promiseHandle:e}}waitGroupEvent(e,t,n){const{promise:i,promiseHandle:r}=a.invokePromiseHandle();return"string"==typeof t&&this.addCallbackToChildren(e,t),a.getFromDeepMap(this.eventsStore,e).next(t).map.set(n,r),i}fireEvent(e,t,n={}){if(this.applyDefaultPropagation(n),e instanceof Set){let i;(i=e.size>0?[...e]:[{[this.nullKey]:!0,[this.parentKey]:e}]).forEach(e=>{if(!(n[this.propagationKey].stopPropagatingNested&&e instanceof this.RoleSet)){this.queueData.push({target:e,type:t,event:n});const i=this.countTypesInQueue.get(t);this.countTypesInQueue.set(t,i?i+1:1)}}),this.getCallback({[this.nullKey]:!0,[this.parentKey]:this.worker},this.fireFromQueueType)()}else this.getCallback(e,t)(n)}eventChain(e,t){const{roleSet:n,type:i,action:r,typeRegistered:o}=e,s=e.checkIfTerminate||(()=>!1),a={...e,checkIfTerminate:s};o||"string"==typeof i||this.customEventTypes.has(i)||(this.registerEventType(i),a.typeRegistered=!0);let l=t;return t||(l="string"==typeof i?Symbol(`${i}-eventID`):Symbol(`${i.description}-eventID`)),this.waitGroupEvent(n,i,l).then(e=>{const{target:t,event:o}=e;o[this.propagationKey].stopBubbling&&o[this.propagationKey].stopBubbling.has(t)?this.eventChain(a,l):s(e)?this.eventsStore.get(n).get(i).delete(l):(r(e),o[this.propagationKey].stopBubbling&&o[this.propagationKey].stopBubbling.add(t),this.eventChain(a,l))}),t}waitWhenTypeExhausted(e){let t=e;if("onAddElement"===e&&(t=this.addElementEventType),this.countTypesInQueue.get(t)){const{promise:e,promiseHandle:n}=a.invokePromiseHandle();return this.exhaustTypesMap.set(t,n),e}return Promise.resolve()}}const{RoleSet:l,defineRoutine:u,managePropagation:p,stopBubbling:h,stopPropagatingNested:c,setActionOnAddElement:d,fireEvent:f,eventChain:m,waitWhenTypeExhausted:g}=new a;var y={border:"1px solid black",width:"3em",height:"3em",position:"relative",display:"inline-block","background-color":"white"},b={"background-color":"Khaki"};var v=document.createElement("div");var E=function(e){for(var t=[],n=0;n<9;n++){var i=new e;v.appendChild(i.node),t.push(i),(n+1)%3==0&&v.appendChild(document.createElement("br"))}return t},w={"line-height":"2em","font-style":"italic",color:"Red","font-size":"1.5em"},S=document.createElement("div");function T(){for(;S.firstChild;)S.removeChild(S.firstChild)}Object.assign(S.style,{height:"3em"});var k=function(e){var t=document.createElement("div");t.appendChild(document.createTextNode(e)),Object.assign(t.style,w),T(),S.appendChild(t),window.setTimeout(T,1500)};n(79),n(80),n(168),n(169),n(82);var C=document.createElement("button");C.innerText="Restart",Object.assign(C.style,{width:"7em",height:"2em"});var P,O=C,M=function(){var e;this.node=(e=document.createElement("div"),Object.assign(e.style,y),e)};u({interpretTarget:function(e){return e.node}});var K=["X won","O won"],x=["markX","markO"];Object.assign(M.prototype,((P={})[x[0]]=function(){var e={position:"absolute",left:"-0.24em",top:"1.24em",width:"3em",height:"0",border:"0.3em solid RoyalBlue",margin:"0","border-radius":"0.3em"},t=document.createElement("div"),n=document.createElement("div");return Object.assign(t.style,e,{transform:"rotate(45deg)"}),Object.assign(n.style,e,{transform:"rotate(135deg)"}),this.resetCell(),this.node.appendChild(t),this.node.appendChild(n),this},P[x[1]]=function(){var e=document.createElement("div");return Object.assign(e.style,{position:"absolute",left:"0.15em",top:"0.15em",width:"1.5em",height:"1.5em",border:"0.6em solid Red",margin:"0","border-radius":"2.1em"}),this.resetCell(),this.node.appendChild(e),this},P.markAsWin=function(){Object.assign(this.node.style,b)},P.resetCell=function(){for(;this.node.firstChild;)this.node.removeChild(this.node.firstChild);return Object.assign(this.node.style,y),this},P));var F=E(M),j=new l(F);var D,A=x.map(function(e,t){var n,i=new l;return d(i,(n=[],function(i){var r=i.target;1===i.roleSet.size&&(n=[]),r[e]();var o=function(e){for(var t=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]],n=0;n<t.length;n++){var i=[],r=t[n],o=Array.isArray(r),s=0;for(r=o?r:r[Symbol.iterator]();;){var a;if(o){if(s>=r.length)break;a=r[s++]}else{if((s=r.next()).done)break;a=s.value}var l=a;if(!e.includes(l)){i=[];break}i.push(l)}if(i.length>0)return i}return!1}(n=function(e,t){var n=F.indexOf(e);return[].concat(t,[n]).sort(function(e,t){return e-t})}(r,n));o?(j.clearElements(),A.clearElements(),o.forEach(function(e){F[e].markAsWin()}),k(K[t])):0===j.size&&(A.clearElements(),k("Game is over"))})),m({roleSet:i,type:"click",action:function(){k("The cell is already set")}}),i});A.clearElements=function(){this.forEach(function(e){return e.clearElements()})},m({roleSet:j,type:"click",action:(D=0,function(e){var t=e.target;9===e.roleSet.size&&(D=0),D=function(e,t){return A[e].addElement(t),1-e}(D,t)})}),O.onclick=function(){F.forEach(function(e){return e.resetCell()}),j.addElements(F)};var N=function(e){function t(t){var n;return(n=e.call(this,t)||this).myRef=r.a.createRef(),n}s()(t,e);var n=t.prototype;return n.componentDidMount=function(){var e,t;e=this.myRef.current,t=document.createElement("div"),Object.assign(t.style,{"line-height":"0","box-sizing":"content-box"}),t.appendChild(v),t.appendChild(S),t.appendChild(O),e.parentNode.replaceChild(t,e)},n.render=function(){return r.a.createElement("div",{ref:this.myRef})},t}(r.a.Component);t.default=function(){return r.a.createElement(N,null)}},156:function(e,t,n){var i=n(5),r=n(20),o=n(36),s=n(157),a=n(25).f;e.exports=function(e){var t=r.Symbol||(r.Symbol=o?{}:i.Symbol||{});"_"==e.charAt(0)||e in t||a(t,e,{value:s.f(e)})}},157:function(e,t,n){t.f=n(3)},158:function(e,t,n){var i=n(78),r=n(56).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return i(e,r)}},166:function(e,t,n){"use strict";var i=n(12),r=n(27),o=n(28),s=n(18),a=[].sort,l=[1,2,3];i(i.P+i.F*(s(function(){l.sort(void 0)})||!s(function(){l.sort(null)})||!n(167)(a)),"Array",{sort:function(e){return void 0===e?a.call(o(this)):a.call(o(this),r(e))}})},167:function(e,t,n){"use strict";var i=n(18);e.exports=function(e,t){return!!e&&i(function(){t?e.call(null,function(){},1):e.call(null)})}},168:function(e,t,n){n(156)("asyncIterator")},169:function(e,t,n){"use strict";var i=n(5),r=n(26),o=n(19),s=n(12),a=n(14),l=n(170).KEY,u=n(18),p=n(39),h=n(40),c=n(37),d=n(3),f=n(157),m=n(156),g=n(171),y=n(81),b=n(6),v=n(11),E=n(35),w=n(75),S=n(55),T=n(83),k=n(172),C=n(173),P=n(25),O=n(38),M=C.f,K=P.f,x=k.f,F=i.Symbol,j=i.JSON,D=j&&j.stringify,A=d("_hidden"),N=d("toPrimitive"),R={}.propertyIsEnumerable,I=p("symbol-registry"),B=p("symbols"),Q=p("op-symbols"),z=Object.prototype,W="function"==typeof F,H=i.QObject,J=!H||!H.prototype||!H.prototype.findChild,q=o&&u(function(){return 7!=T(K({},"a",{get:function(){return K(this,"a",{value:7}).a}})).a})?function(e,t,n){var i=M(z,t);i&&delete z[t],K(e,t,n),i&&e!==z&&K(z,t,i)}:K,G=function(e){var t=B[e]=T(F.prototype);return t._k=e,t},_=W&&"symbol"==typeof F.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof F},X=function(e,t,n){return e===z&&X(Q,t,n),b(e),t=w(t,!0),b(n),r(B,t)?(n.enumerable?(r(e,A)&&e[A][t]&&(e[A][t]=!1),n=T(n,{enumerable:S(0,!1)})):(r(e,A)||K(e,A,S(1,{})),e[A][t]=!0),q(e,t,n)):K(e,t,n)},Y=function(e,t){b(e);for(var n,i=g(t=E(t)),r=0,o=i.length;o>r;)X(e,n=i[r++],t[n]);return e},$=function(e){var t=R.call(this,e=w(e,!0));return!(this===z&&r(B,e)&&!r(Q,e))&&(!(t||!r(this,e)||!r(B,e)||r(this,A)&&this[A][e])||t)},L=function(e,t){if(e=E(e),t=w(t,!0),e!==z||!r(B,t)||r(Q,t)){var n=M(e,t);return!n||!r(B,t)||r(e,A)&&e[A][t]||(n.enumerable=!0),n}},U=function(e){for(var t,n=x(E(e)),i=[],o=0;n.length>o;)r(B,t=n[o++])||t==A||t==l||i.push(t);return i},V=function(e){for(var t,n=e===z,i=x(n?Q:E(e)),o=[],s=0;i.length>s;)!r(B,t=i[s++])||n&&!r(z,t)||o.push(B[t]);return o};W||(a((F=function(){if(this instanceof F)throw TypeError("Symbol is not a constructor!");var e=c(arguments.length>0?arguments[0]:void 0),t=function(n){this===z&&t.call(Q,n),r(this,A)&&r(this[A],e)&&(this[A][e]=!1),q(this,e,S(1,n))};return o&&J&&q(z,e,{configurable:!0,set:t}),G(e)}).prototype,"toString",function(){return this._k}),C.f=L,P.f=X,n(158).f=k.f=U,n(74).f=$,n(76).f=V,o&&!n(36)&&a(z,"propertyIsEnumerable",$,!0),f.f=function(e){return G(d(e))}),s(s.G+s.W+s.F*!W,{Symbol:F});for(var Z="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ee=0;Z.length>ee;)d(Z[ee++]);for(var te=O(d.store),ne=0;te.length>ne;)m(te[ne++]);s(s.S+s.F*!W,"Symbol",{for:function(e){return r(I,e+="")?I[e]:I[e]=F(e)},keyFor:function(e){if(!_(e))throw TypeError(e+" is not a symbol!");for(var t in I)if(I[t]===e)return t},useSetter:function(){J=!0},useSimple:function(){J=!1}}),s(s.S+s.F*!W,"Object",{create:function(e,t){return void 0===t?T(e):Y(T(e),t)},defineProperty:X,defineProperties:Y,getOwnPropertyDescriptor:L,getOwnPropertyNames:U,getOwnPropertySymbols:V}),j&&s(s.S+s.F*(!W||u(function(){var e=F();return"[null]"!=D([e])||"{}"!=D({a:e})||"{}"!=D(Object(e))})),"JSON",{stringify:function(e){for(var t,n,i=[e],r=1;arguments.length>r;)i.push(arguments[r++]);if(n=t=i[1],(v(t)||void 0!==e)&&!_(e))return y(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!_(t))return t}),i[1]=t,D.apply(j,i)}}),F.prototype[N]||n(13)(F.prototype,N,F.prototype.valueOf),h(F,"Symbol"),h(Math,"Math",!0),h(i.JSON,"JSON",!0)},170:function(e,t,n){var i=n(37)("meta"),r=n(11),o=n(26),s=n(25).f,a=0,l=Object.isExtensible||function(){return!0},u=!n(18)(function(){return l(Object.preventExtensions({}))}),p=function(e){s(e,i,{value:{i:"O"+ ++a,w:{}}})},h=e.exports={KEY:i,NEED:!1,fastKey:function(e,t){if(!r(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,i)){if(!l(e))return"F";if(!t)return"E";p(e)}return e[i].i},getWeak:function(e,t){if(!o(e,i)){if(!l(e))return!0;if(!t)return!1;p(e)}return e[i].w},onFreeze:function(e){return u&&h.NEED&&l(e)&&!o(e,i)&&p(e),e}}},171:function(e,t,n){var i=n(38),r=n(76),o=n(74);e.exports=function(e){var t=i(e),n=r.f;if(n)for(var s,a=n(e),l=o.f,u=0;a.length>u;)l.call(e,s=a[u++])&&t.push(s);return t}},172:function(e,t,n){var i=n(35),r=n(158).f,o={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return s&&"[object Window]"==o.call(e)?function(e){try{return r(e)}catch(t){return s.slice()}}(e):r(i(e))}},173:function(e,t,n){var i=n(74),r=n(55),o=n(35),s=n(75),a=n(26),l=n(77),u=Object.getOwnPropertyDescriptor;t.f=n(19)?u:function(e,t){if(e=o(e),t=s(t,!0),l)try{return u(e,t)}catch(n){}if(a(e,t))return r(!i.f.call(e,t),e[t])}}}]);
//# sourceMappingURL=component---src-pages-index-js-0c4fb9a27b2f2d5a9aee.js.map