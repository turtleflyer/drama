{"version":3,"sources":["webpack:///../drama-core/src/drama-core.js","webpack:////mnt/c/Users/turtl/Documents/Code/drama_project/drama/examples/tic-tac-toe/src/cell.js","webpack:////mnt/c/Users/turtl/Documents/Code/drama_project/drama/examples/tic-tac-toe/src/matrix.js","webpack:////mnt/c/Users/turtl/Documents/Code/drama_project/drama/examples/tic-tac-toe/src/messages.js","webpack:////mnt/c/Users/turtl/Documents/Code/drama_project/drama/examples/tic-tac-toe/src/restartButton.js","webpack:////mnt/c/Users/turtl/Documents/Code/drama_project/drama/examples/tic-tac-toe/src/tic-tac-toe.js","webpack:////mnt/c/Users/turtl/Documents/Code/drama_project/drama/examples/tic-tac-toe/src/analyzePossibleWin.js","webpack:///./src/components/TicTacToe.js","webpack:////mnt/c/Users/turtl/Documents/Code/drama_project/drama/examples/tic-tac-toe/src/stage.js","webpack:///./src/pages/index.js","webpack:///./node_modules/core-js/modules/_meta.js","webpack:///./node_modules/core-js/modules/_validate-collection.js","webpack:///./node_modules/@babel/runtime/helpers/setPrototypeOf.js","webpack:///./node_modules/core-js/modules/es7.symbol.async-iterator.js","webpack:///./node_modules/core-js/modules/_wks-define.js","webpack:///./node_modules/core-js/modules/_wks-ext.js","webpack:///./node_modules/core-js/modules/es6.symbol.js","webpack:///./node_modules/core-js/modules/_object-gopn.js","webpack:///./node_modules/core-js/modules/_object-gopd.js","webpack:///./node_modules/core-js/modules/_collection-strong.js","webpack:///./node_modules/core-js/modules/_collection.js","webpack:///./node_modules/core-js/modules/es6.array.sort.js","webpack:///./node_modules/core-js/modules/_strict-method.js","webpack:///./node_modules/@babel/runtime/helpers/wrapNativeSuper.js","webpack:///./node_modules/@babel/runtime/helpers/getPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/isNativeFunction.js","webpack:///./node_modules/@babel/runtime/helpers/construct.js","webpack:///./node_modules/core-js/modules/es6.function.name.js","webpack:///./node_modules/core-js/modules/_enum-keys.js","webpack:///./node_modules/core-js/modules/_object-gopn-ext.js","webpack:///./node_modules/core-js/modules/es6.set.js","webpack:///./node_modules/core-js/modules/_inherit-if-required.js","webpack:///./node_modules/core-js/modules/_set-proto.js","webpack:///./node_modules/core-js/modules/es6.map.js"],"names":["EventsWork","_this","this","eventsStore","Map","elementsMap","customEventTypes","Set","onAddElementActionsMap","exhaustTypesMap","routine","interpretTarget","t","propagationKey","Symbol","nullKey","parentKey","addElementEventType","registerEventType","RoleSet","invokeRoleSetClass","worker","fireFromQueueType","fireFromQueueId","queueData","countTypesInQueue","name","eventChain","roleSet","type","action","length","_this$queueData$shift","shift","target","event","fireEvent","countType","get","has","delete","set","Promise","resolve","then","_this$getCallback","getCallback","defineRoutine","bind","managePropagation","stopBubbling","stopPropagatingNested","setActionOnAddElement","waitWhenTypeExhausted","getSomeFromDeep","obj","key","create","toGet","getFromDeepMap","map","deepMap","next","_ref","defaultPropagation","Object","assign","add","option","applyDefaultPropagation","_this2","stageCallback","ancestor","getAncestor","belong","mapOfTypes","concat","entries","forEach","typeEntry","eventID","handle","grandAncestorEntry","addCallback","elementEntry","setOfTypes","addEventListener","addCallbackToChildren","parent","_this3","size","element","combineTypes","types","collectedTypes","keys","filter","parentEntry","parentClass","_Set","elements","_this4","call","e","assertThisInitialized_default","apply","arguments","inheritsLoose_default","_proto2","prototype","addElement","deleteElement","addElements","_this5","clearElements","_this6","wrapNativeSuper_default","invokePromiseHandle","promiseHandle","promise","waitGroupEvent","_EventsWork$invokePro","_this7","_this$getCallback2","toProcess","_ref2","push","description","_this8","typeRegistered","checkIfTerminate","furtherDescription","getID","arg","getType","_EventsWork$invokePro2","cellStyle","border","width","height","position","display","background-color","markAsWinStyle","matrixContainer","document","createElement","buildMatrix","Cell","matrix","i","cell","appendChild","node","textMessageStyle","line-height","font-style","color","font-size","messageContainer","clearMessages","firstChild","removeChild","style","postTextMessage","str","message","createTextNode","window","setTimeout","restartButton","innerText","winMessages","turns","_Object$assign","commonStyle","left","top","margin","border-radius","first","second","transform","resetCell","o","markAsWin","gameMatrix","emptyCells","currentTurn","xAndOs","turn","filledCells","possibleWin","_i","_winPatterns","winCells","_iterator","_isArray","Array","isArray","_i2","iterator","done","value","cellN","includes","analyzePossibleWin","indexOf","sort","a","b","keepState","n","setCell","onclick","TicTacToe","props","_React$Component","myRef","React","createRef","componentDidMount","placeholder","stage","current","box-sizing","parentNode","replaceChild","render","react_default","ref","Component","IndexPage","TicTacToe_TicTacToe","META","__webpack_require__","isObject","setDesc","f","id","isExtensible","FREEZE","preventExtensions","setMeta","it","w","meta","module","exports","KEY","NEED","fastKey","getWeak","onFreeze","TYPE","_t","TypeError","_setPrototypeOf","p","setPrototypeOf","__proto__","global","core","LIBRARY","wksExt","defineProperty","$Symbol","charAt","DESCRIPTORS","$export","redefine","$fails","shared","setToStringTag","uid","wks","wksDefine","enumKeys","anObject","toIObject","toPrimitive","createDesc","_create","gOPNExt","$GOPD","$DP","$keys","gOPD","dP","gOPN","$JSON","JSON","_stringify","stringify","HIDDEN","TO_PRIMITIVE","isEnum","propertyIsEnumerable","SymbolRegistry","AllSymbols","OPSymbols","ObjectProto","USE_NATIVE","QObject","setter","findChild","setSymbolDesc","D","protoDesc","wrap","tag","sym","_k","isSymbol","$defineProperty","enumerable","$defineProperties","P","l","$propertyIsEnumerable","E","$getOwnPropertyDescriptor","$getOwnPropertyNames","names","result","$getOwnPropertySymbols","IS_OP","undefined","$set","configurable","G","W","F","es6Symbols","split","j","wellKnownSymbols","store","k","S","for","keyFor","useSetter","useSimple","defineProperties","getOwnPropertyDescriptor","getOwnPropertyNames","getOwnPropertySymbols","replacer","$replacer","args","valueOf","Math","hiddenKeys","O","pIE","IE8_DOM_DEFINE","redefineAll","ctx","anInstance","forOf","$iterDefine","step","setSpecies","validate","SIZE","getEntry","that","entry","index","_f","getConstructor","wrapper","NAME","IS_MAP","ADDER","C","iterable","_l","clear","data","r","prev","callbackfn","v","def","setStrong","iterated","kind","fails","$iterDetect","inheritIfRequired","methods","common","IS_WEAK","Base","proto","fixMethod","fn","instance","HASNT_CHAINING","THROWS_ON_PRIMITIVES","ACCEPT_ITERABLES","iter","BUGGY_ZERO","$instance","constructor","aFunction","toObject","$sort","test","comparefn","method","getPrototypeOf","isNativeFunction","construct","_wrapNativeSuper","Class","_cache","Wrapper","writable","_getPrototypeOf","Function","toString","_construct","Parent","Reflect","sham","Proxy","Date","isNativeReflectConstruct","FProto","nameRE","match","getKeys","gOPS","getSymbols","symbols","windowNames","slice","getWindowNames","strong","check","buggy"],"mappings":"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","file":"component---src-pages-index-js-393c1a521abf1f30856b.js","sourcesContent":["class EventsWork {\r\n  constructor() {\r\n    /**\r\n     *   eventsStore structure:\r\n     *  Map(\r\n     *    [roleSet, Map(\r\n     *      [type, Map(\r\n     *        [eventID, promiseHandle]\r\n     *      )]\r\n     *    )]\r\n     *  )\r\n     */\r\n    this.eventsStore = new Map();\r\n\r\n    /**\r\n     *  elementsMap structure:\r\n     *  Map(\r\n     *    [element, { roleSet, types: Set of types }]\r\n     *  )\r\n     *\r\n     */\r\n    this.elementsMap = new Map();\r\n    this.customEventTypes = new Set();\r\n    this.onAddElementActionsMap = new Map();\r\n    this.exhaustTypesMap = new Map();\r\n    this.routine = { interpretTarget: t => t };\r\n    this.propagationKey = Symbol('propagationKey');\r\n    this.nullKey = Symbol('@@eventswork/nullKey');\r\n    this.parentKey = Symbol('@@eventswork/parentKey');\r\n    this.addElementEventType = Symbol('@@addElement');\r\n    this.registerEventType(this.addElementEventType);\r\n    this.RoleSet = this.invokeRoleSetClass();\r\n    this.worker = new this.RoleSet([]);\r\n    this.fireFromQueueType = Symbol('@@eventswork/fireFromQueue');\r\n    this.fireFromQueueId = Symbol('@@eventswork/fireFromQueueId');\r\n    this.queueData = [];\r\n    this.countTypesInQueue = new Map();\r\n\r\n    this.worker.name = '@@worker';\r\n\r\n    this.eventChain(\r\n      {\r\n        roleSet: this.worker,\r\n        type: this.fireFromQueueType,\r\n        action: () => {\r\n          if (this.queueData.length > 0) {\r\n            const { target, type, event } = this.queueData.shift();\r\n            this.fireEvent(target, type, event);\r\n\r\n            // Look if waitWhenTypeExhausted for this type has been activated\r\n            const countType = this.countTypesInQueue.get(type) - 1;\r\n            if (countType === 0 && this.exhaustTypesMap.has(type)) {\r\n              // Fulfill the according promise sending the name of the type to it\r\n              this.exhaustTypesMap.get(type)(type);\r\n              this.exhaustTypesMap.delete(type);\r\n            }\r\n            this.countTypesInQueue.set(type, countType);\r\n\r\n            // Next call of fireEvent of fireFomQueueType is doing asynchronously to\r\n            // make a chance to\r\n            // fulfill the according promise and create the new one for\r\n            // the next target form the queue\r\n            // prettier-ignore\r\n            Promise.resolve().then(\r\n              () => this.getCallback(\r\n                { [this.nullKey]: true, [this.parentKey]: this.worker },\r\n                this.fireFromQueueType,\r\n              )(),\r\n            );\r\n          }\r\n        },\r\n      },\r\n      this.fireFromQueueId,\r\n    );\r\n\r\n    this.defineRoutine = this.defineRoutine.bind(this);\r\n    this.managePropagation = this.managePropagation.bind(this);\r\n    this.stopBubbling = this.stopBubbling.bind(this);\r\n    this.stopPropagatingNested = this.stopPropagatingNested.bind(this);\r\n    this.setActionOnAddElement = this.setActionOnAddElement.bind(this);\r\n    this.fireEvent = this.fireEvent.bind(this);\r\n    this.eventChain = this.eventChain.bind(this);\r\n    this.waitWhenTypeExhausted = this.waitWhenTypeExhausted.bind(this);\r\n  }\r\n\r\n  /**\r\n   *\r\n   *\r\n   * @function\r\n   * @name whatToDo\r\n   * @returns {*}\r\n   */\r\n\r\n  /**\r\n   *\r\n   *\r\n   * @param {Onject|Map} obj\r\n   * @param {*} key\r\n   * @param {whatToDo} create\r\n   * @returns\r\n   */\r\n  static getSomeFromDeep(obj, key, create) {\r\n    let toGet;\r\n    if (obj instanceof Map) {\r\n      toGet = obj.get(key);\r\n    } else {\r\n      toGet = obj[key];\r\n    }\r\n    if (!toGet) {\r\n      toGet = create();\r\n      if (obj instanceof Map) {\r\n        obj.set(key, toGet);\r\n      } else {\r\n        obj[key] = toGet;\r\n      }\r\n    }\r\n    return toGet;\r\n  }\r\n\r\n  /**\r\n   *\r\n   *\r\n   * @typedef {Object} Returned\r\n   * @property {Map} map\r\n   * @property {getFromDeepMap.bind} next\r\n   */\r\n\r\n  /**\r\n   *\r\n   *\r\n   * @param {Map} map\r\n   * @param {*} key\r\n   * @returns {Returned}\r\n   *\r\n   */\r\n  static getFromDeepMap(map, key) {\r\n    const deepMap = EventsWork.getSomeFromDeep(map, key, () => new Map());\r\n    return { map: deepMap, next: EventsWork.getFromDeepMap.bind(null, deepMap) };\r\n  }\r\n\r\n  defineRoutine({ interpretTarget, defaultPropagation }) {\r\n    Object.assign(this.routine, { interpretTarget, defaultPropagation });\r\n  }\r\n\r\n  /**\r\n   *\r\n   *\r\n   * @param {*} type\r\n   * @memberof EventsWork\r\n   */\r\n  registerEventType(type) {\r\n    this.customEventTypes.add(type);\r\n  }\r\n\r\n  managePropagation(event, option) {\r\n    // eslint-disable-next-line\r\n    const { stopBubbling, stopPropagatingNested } = option;\r\n    if (!event[this.propagationKey]) {\r\n      event[this.propagationKey] = {};\r\n    }\r\n    Object.assign(event[this.propagationKey], {\r\n      // If stopBubbling is assigned true its value changes by empty set (still get true value)\r\n      stopBubbling: stopBubbling ? new Set() : null,\r\n      stopPropagatingNested,\r\n    });\r\n    return event;\r\n  }\r\n\r\n  stopBubbling(event = {}) {\r\n    this.managePropagation(event, { stopBubbling: true });\r\n    // eslint-disable-next-line\r\n    event.stopPropagatingNested = this.stopPropagatingNested.bind(null, event);\r\n    return event;\r\n  }\r\n\r\n  stopPropagatingNested(event = {}) {\r\n    this.managePropagation(event, { stopPropagatingNested: true });\r\n    event.stopBubbling = this.stopBubbling.bind(null, event);\r\n    return event;\r\n  }\r\n\r\n  applyDefaultPropagation(event) {\r\n    if (!event[this.propagationKey]) {\r\n      event[this.propagationKey] = {};\r\n      const { defaultPropagation } = this.routine;\r\n      if (defaultPropagation) {\r\n        this.managePropagation(event, defaultPropagation);\r\n      }\r\n    }\r\n    return event;\r\n  }\r\n\r\n  /**\r\n   * Function returns the callback to attach to event listener\r\n   *\r\n   * @param {EventsWork} context\r\n   * @param {Element} target\r\n   * @param {*} type\r\n   * @returns {callback}\r\n   */\r\n  getCallback(target, type) {\r\n    // eslint-disable-next-line\r\n    const stageCallback = (target, type, event, ancestor) => {\r\n      let getAncestor = ancestor;\r\n      if (!ancestor) {\r\n        getAncestor = target[this.parentKey] || this.elementsMap.get(target).belong;\r\n      }\r\n      const mapOfTypes = EventsWork.getFromDeepMap(this.eventsStore, getAncestor).map;\r\n      if (mapOfTypes.has(type)) {\r\n        [...mapOfTypes.get(type).entries()].forEach((typeEntry) => {\r\n          const [eventID, handle] = typeEntry;\r\n          handle({\r\n            target,\r\n            roleSet: target[this.parentKey] || this.elementsMap.get(target).belong,\r\n            type,\r\n            event,\r\n            eventID,\r\n          });\r\n        });\r\n      }\r\n      const grandAncestorEntry = this.elementsMap.get(getAncestor);\r\n      if (grandAncestorEntry) {\r\n        stageCallback(target, type, event, grandAncestorEntry.belong);\r\n      }\r\n    };\r\n\r\n    return (event = {}) => {\r\n      stageCallback(target, type, this.applyDefaultPropagation(event));\r\n    };\r\n  }\r\n\r\n  /**\r\n   *\r\n   *\r\n   * @param {EventsWork} this\r\n   * @param {Element} target\r\n   * @param {string} type\r\n   */\r\n  addCallback(target, type) {\r\n    const elementEntry = this.elementsMap.get(target);\r\n    const setOfTypes = EventsWork.getSomeFromDeep(elementEntry, 'types', () => new Set());\r\n    if (!setOfTypes.has(type)) {\r\n      if (this.routine.interpretTarget(target)) {\r\n        this.routine.interpretTarget(target).addEventListener(type, this.getCallback(target, type));\r\n      }\r\n      setOfTypes.add(type);\r\n    }\r\n  }\r\n\r\n  /**\r\n   *\r\n   *\r\n   * @param {UnitClass} parent\r\n   * @param {string} type\r\n   */\r\n  addCallbackToChildren(parent, type) {\r\n    if (parent.size > 0) {\r\n      const mapOfIDs = EventsWork.getFromDeepMap(this.eventsStore, parent).next(type).map;\r\n      if (mapOfIDs.size === 0) {\r\n        [...parent].forEach((element) => {\r\n          // eslint-disable-next-line\r\n          if (element instanceof this.RoleSet) {\r\n            this.addCallbackToChildren(element, type);\r\n          } else {\r\n            this.addCallback(element, type);\r\n          }\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Function returns the list of types of events the ancestors\r\n   * of the element have handles of whom.\r\n   *\r\n   * @param {EventsWork} context\r\n   * @param {RoleSet} roleSet\r\n   * @param {*[]} types\r\n   * @returns {*[]}\r\n   */\r\n  combineTypes(roleSet, types = []) {\r\n    let collectedTypes = types.concat(\r\n      [...EventsWork.getFromDeepMap(this.eventsStore, roleSet).map.keys()].filter(\r\n        type => typeof type === 'string',\r\n      ),\r\n    );\r\n    const parentEntry = this.elementsMap.get(roleSet);\r\n    if (parentEntry) {\r\n      collectedTypes = this.combineTypes(parentEntry.belong, collectedTypes);\r\n    }\r\n    return collectedTypes;\r\n  }\r\n\r\n  invokeRoleSetClass() {\r\n    const parentClass = this;\r\n\r\n    return class RoleSet extends Set {\r\n      /**\r\n       *Creates an instance of RoleSet.\r\n       * @param {Set|Array} list\r\n       */\r\n      constructor(elements) {\r\n        super(elements);\r\n        if (elements) {\r\n          elements.forEach((e) => {\r\n            parentClass.elementsMap.set(e, { belong: this });\r\n          });\r\n        }\r\n        parentClass.onAddElementActionsMap.set(this, () => {});\r\n        // eslint-disable-next-line\r\n        parentClass.eventChain(\r\n          {\r\n            roleSet: this,\r\n            type: parentClass.addElementEventType,\r\n            action: (...args) => {\r\n              parentClass.onAddElementActionsMap.get(this)(...args);\r\n            },\r\n          },\r\n          Symbol('@@elementAdded'),\r\n        );\r\n      }\r\n\r\n      /**\r\n       *\r\n       *\r\n       * @param {Element} element\r\n       */\r\n      addElement(element) {\r\n        if (this.has(element)) {\r\n          return this;\r\n        }\r\n        this.add(element);\r\n        // prettier-ignore\r\n        const elementEntry = EventsWork.getSomeFromDeep(\r\n          parentClass.elementsMap,\r\n          element,\r\n          () => (element instanceof RoleSet ? {} : { types: new Set() }),\r\n        );\r\n        if (elementEntry.belong) {\r\n          elementEntry.belong.delete(element);\r\n        }\r\n        elementEntry.belong = this;\r\n        const types = parentClass.combineTypes(this);\r\n        types.forEach((type) => {\r\n          if (element instanceof RoleSet) {\r\n            parentClass.addCallbackToChildren(element, type);\r\n          } else {\r\n            parentClass.addCallback(element, type);\r\n          }\r\n        });\r\n        // eslint-disable-next-line\r\n        parentClass.fireEvent(\r\n          new Set([element]),\r\n          parentClass.addElementEventType,\r\n          parentClass.managePropagation({}, { stopBubbling: true, stopPropagatingNested: true }),\r\n        );\r\n        return this;\r\n      }\r\n\r\n      deleteElement(element) {\r\n        this.delete(element);\r\n        parentClass.elementsMap.get(element).belong = null;\r\n        return this;\r\n      }\r\n\r\n      addElements(elements) {\r\n        elements.forEach(e => this.addElement(e));\r\n        return this;\r\n      }\r\n\r\n      clearElements() {\r\n        [...this].forEach(e => this.deleteElement(e));\r\n        return this;\r\n      }\r\n    };\r\n  }\r\n\r\n  setActionOnAddElement(roleSet, action) {\r\n    this.onAddElementActionsMap.set(roleSet, action);\r\n    return roleSet;\r\n  }\r\n\r\n  static invokePromiseHandle() {\r\n    let promiseHandle;\r\n    const promise = new Promise((resolve) => {\r\n      promiseHandle = resolve;\r\n    });\r\n    return { promise, promiseHandle };\r\n  }\r\n\r\n  /**\r\n   *\r\n   *\r\n   * @param {UnitClass} roleSet\r\n   * @param {string} type\r\n   * @param {Symbol} eventID\r\n   * @returns\r\n   * @memberof EventsWork\r\n   */\r\n  waitGroupEvent(roleSet, type, eventID) {\r\n    const { promise, promiseHandle } = EventsWork.invokePromiseHandle();\r\n    if (typeof type === 'string') {\r\n      this.addCallbackToChildren(roleSet, type);\r\n    }\r\n    EventsWork.getFromDeepMap(this.eventsStore, roleSet)\r\n      .next(type)\r\n      .map.set(eventID, promiseHandle);\r\n    return promise;\r\n  }\r\n\r\n  /**\r\n   *\r\n   *\r\n   * @param {(Element|UnitClass)} target\r\n   * @param {string} type\r\n   * @param {Object} _event\r\n   * @memberof EventsWork\r\n   */\r\n  fireEvent(target, type, event = {}) {\r\n    this.applyDefaultPropagation(event);\r\n    if (target instanceof Set) {\r\n      let toProcess;\r\n      if (target.size > 0) {\r\n        toProcess = [...target];\r\n      } else {\r\n        // If target is empty RoleSet the object with signal property is passing to callback\r\n        toProcess = [{ [this.nullKey]: true, [this.parentKey]: target }];\r\n      }\r\n      toProcess.forEach((e) => {\r\n        if (!(event[this.propagationKey].stopPropagatingNested && e instanceof this.RoleSet)) {\r\n          this.queueData.push({ target: e, type, event });\r\n          const countType = this.countTypesInQueue.get(type);\r\n          this.countTypesInQueue.set(type, countType ? countType + 1 : 1);\r\n        }\r\n      });\r\n      this.getCallback(\r\n        { [this.nullKey]: true, [this.parentKey]: this.worker },\r\n        this.fireFromQueueType,\r\n      )();\r\n    } else {\r\n      this.getCallback(target, type)(event);\r\n    }\r\n  }\r\n\r\n  /**\r\n   *\r\n   *\r\n   * @typedef {Onject} DataToAction\r\n   * @property {Element} target\r\n   * @property {Object} event\r\n   * @property {Symbol} eventID\r\n   * @property {UnitClass} roleSet\r\n   * @property {string} type\r\n   */\r\n\r\n  /**\r\n   * @function\r\n   * @name ToDoIfFired\r\n   * @param {DataToAction} sendToAct\r\n   */\r\n\r\n  /**\r\n   * @function\r\n   * @name IfTerminate\r\n   * @param {DataToAction} analyzeIt\r\n   */\r\n\r\n  /**\r\n   * @typedef {Object} ChainInit\r\n   * @property {UnitClass|Set} roleSet\r\n   * @property {string} type\r\n   * @property {ToDoIfFired} action\r\n   * @property {?IfTerminate} checkIfTerminate\r\n   */\r\n\r\n  /**\r\n   * @param {ChainInit} description\r\n   * @param {?Symbol} eventID\r\n   * @returns {UnitClass}\r\n   * @memberof EventsWork\r\n   */\r\n  eventChain(description, eventID) {\r\n    const {\r\n      roleSet, type, action, typeRegistered,\r\n    } = description;\r\n    const checkIfTerminate = description.checkIfTerminate || (() => false);\r\n    const furtherDescription = { ...description, checkIfTerminate };\r\n    if (!(typeRegistered || typeof type === 'string' || this.customEventTypes.has(type))) {\r\n      this.registerEventType(type);\r\n      furtherDescription.typeRegistered = true;\r\n    }\r\n    let getID = eventID;\r\n    if (!eventID) {\r\n      getID = typeof type === 'string'\r\n        ? Symbol(`${type}-eventID`)\r\n        : Symbol(`${type.description}-eventID`);\r\n    }\r\n    this.waitGroupEvent(roleSet, type, getID).then((arg) => {\r\n      const { target, event } = arg;\r\n      // Check if target is subject of situation of preventing bubbling.\r\n      // In this case we check if target was already processing.\r\n      // So this is a criteria that further processing is a bubbling.\r\n      if (\r\n        event[this.propagationKey].stopBubbling\r\n        && event[this.propagationKey].stopBubbling.has(target)\r\n      ) {\r\n        this.eventChain(furtherDescription, getID);\r\n      } else if (checkIfTerminate(arg)) {\r\n        this.eventsStore\r\n          .get(roleSet)\r\n          .get(type)\r\n          .delete(getID);\r\n      } else {\r\n        action(arg);\r\n        if (event[this.propagationKey].stopBubbling) {\r\n          event[this.propagationKey].stopBubbling.add(target);\r\n        }\r\n        this.eventChain(furtherDescription, getID);\r\n      }\r\n    });\r\n    return eventID;\r\n  }\r\n\r\n  waitWhenTypeExhausted(type) {\r\n    let getType = type;\r\n    if (type === 'onAddElement') {\r\n      getType = this.addElementEventType;\r\n    }\r\n    if (this.countTypesInQueue.get(getType)) {\r\n      const { promise, promiseHandle } = EventsWork.invokePromiseHandle();\r\n      // Register the promise handle to exhaustTypesMap\r\n      this.exhaustTypesMap.set(getType, promiseHandle);\r\n      return promise;\r\n    }\r\n    return Promise.resolve();\r\n  }\r\n}\r\n\r\nconst {\r\n  RoleSet,\r\n  defineRoutine,\r\n  managePropagation,\r\n  stopBubbling,\r\n  stopPropagatingNested,\r\n  setActionOnAddElement,\r\n  fireEvent,\r\n  eventChain,\r\n  waitWhenTypeExhausted,\r\n} = new EventsWork();\r\n\r\nexport default EventsWork;\r\n\r\nexport {\r\n  RoleSet,\r\n  defineRoutine,\r\n  managePropagation,\r\n  stopBubbling,\r\n  stopPropagatingNested,\r\n  setActionOnAddElement,\r\n  fireEvent,\r\n  eventChain,\r\n  waitWhenTypeExhausted,\r\n};\r\n","/* eslint-env browser */\r\n\r\nconst cellStyle = {\r\n  border: '1px solid black',\r\n  width: '3em',\r\n  height: '3em',\r\n  position: 'relative',\r\n  display: 'inline-block',\r\n  'background-color': 'white',\r\n};\r\nconst markAsWinStyle = { 'background-color': 'Khaki' };\r\n\r\nexport function resetCell() {\r\n  while (this.node.firstChild) {\r\n    this.node.removeChild(this.node.firstChild);\r\n  }\r\n  Object.assign(this.node.style, cellStyle);\r\n  return this;\r\n}\r\n\r\nexport function markX() {\r\n  const commonStyle = {\r\n    position: 'absolute',\r\n    left: '-0.24em',\r\n    top: '1.24em',\r\n    width: '3em',\r\n    height: '0',\r\n    border: '0.3em solid RoyalBlue',\r\n    margin: '0',\r\n    'border-radius': '0.3em',\r\n  };\r\n  const first = document.createElement('div');\r\n  const second = document.createElement('div');\r\n  Object.assign(first.style, commonStyle, { transform: 'rotate(45deg)' });\r\n  Object.assign(second.style, commonStyle, { transform: 'rotate(135deg)' });\r\n  this.resetCell();\r\n  this.node.appendChild(first);\r\n  this.node.appendChild(second);\r\n  return this;\r\n}\r\n\r\nexport function markO() {\r\n  const o = document.createElement('div');\r\n  const oStyle = {\r\n    position: 'absolute',\r\n    left: '0.15em',\r\n    top: '0.15em',\r\n    width: '1.5em',\r\n    height: '1.5em',\r\n    border: '0.6em solid Red',\r\n    margin: '0',\r\n    'border-radius': '2.1em',\r\n  };\r\n  Object.assign(o.style, oStyle);\r\n  this.resetCell();\r\n  this.node.appendChild(o);\r\n  return this;\r\n}\r\n\r\nexport function markAsWin() {\r\n  Object.assign(this.node.style, markAsWinStyle);\r\n}\r\n\r\nexport function createCell() {\r\n  const cell = document.createElement('div');\r\n  Object.assign(cell.style, cellStyle);\r\n  return cell;\r\n}\r\n","/* eslint-env browser */\r\n\r\nexport const matrixContainer = document.createElement('div');\r\n\r\nfunction buildMatrix(Cell) {\r\n  const matrix = [];\r\n\r\n  for (let i = 0; i < 9; i++) {\r\n    const cell = new Cell();\r\n    matrixContainer.appendChild(cell.node);\r\n    matrix.push(cell);\r\n    if ((i + 1) % 3 === 0) {\r\n      matrixContainer.appendChild(document.createElement('br'));\r\n    }\r\n  }\r\n\r\n  return matrix;\r\n}\r\n\r\nexport default buildMatrix;\r\n","/* eslint-env browser */\r\nconst messageContainerStyle = {\r\n  height: '3em',\r\n};\r\n\r\nconst textMessageStyle = {\r\n  'line-height': '2em',\r\n  'font-style': 'italic',\r\n  color: 'Red',\r\n  'font-size': '1.5em',\r\n};\r\n\r\nexport const messageContainer = document.createElement('div');\r\nObject.assign(messageContainer.style, messageContainerStyle);\r\n\r\nfunction clearMessages() {\r\n  while (messageContainer.firstChild) {\r\n    messageContainer.removeChild(messageContainer.firstChild);\r\n  }\r\n}\r\n\r\nfunction postTextMessage(str) {\r\n  const message = document.createElement('div');\r\n  message.appendChild(document.createTextNode(str));\r\n  Object.assign(message.style, textMessageStyle);\r\n  clearMessages();\r\n  messageContainer.appendChild(message);\r\n  window.setTimeout(clearMessages, 1500);\r\n}\r\n\r\nexport default postTextMessage;\r\n","/* eslint-env browser */\r\n\r\nconst buttonStyle = {\r\n  width: '7em',\r\n  height: '2em',\r\n};\r\nconst restartButton = document.createElement('button');\r\nrestartButton.innerText = 'Restart';\r\nObject.assign(restartButton.style, buttonStyle);\r\n\r\nexport default restartButton;\r\n","/* eslint-env browser */\r\nimport {\r\n  RoleSet, eventChain, setActionOnAddElement, defineRoutine,\r\n} from 'drama-core';\r\nimport {\r\n  createCell, resetCell, markX, markO, markAsWin,\r\n} from './cell';\r\nimport buildMatrix from './matrix';\r\nimport postTextMessage from './messages';\r\nimport analyzePossibleWin from './analyzePossibleWin';\r\nimport restartButton from './restartButton';\r\n\r\n// Define the class of cells that the board of tic-tac-toe game consists of\r\nclass Cell {\r\n  constructor() {\r\n    this.node = createCell();\r\n  }\r\n}\r\n\r\n// interpretTarget property of the parameter passed to\r\n// defineRoutine defines the way to reach the DOM element of\r\n// event targets\r\ndefineRoutine({ interpretTarget: e => e.node });\r\n\r\n// Define the messages strings\r\nconst cellMarkedMessage = 'The cell is already set';\r\nconst gameOverMessage = 'Game is over';\r\nconst winMessages = ['X won', 'O won'];\r\n\r\n// Define the names of methods that mark cells as X and O\r\nconst turns = ['markX', 'markO'];\r\n\r\n// Add methods to the Cell class that mark a cell as X and\r\n// O, method that marks a cell as a part of a wining line,\r\n// and one that resets a cell to the empty state\r\nObject.assign(Cell.prototype, {\r\n  [turns[0]]: markX,\r\n  [turns[1]]: markO,\r\n  markAsWin,\r\n  resetCell,\r\n});\r\n\r\n// Build the board of the game\r\nconst gameMatrix = buildMatrix(Cell);\r\n\r\n// Define the RoleSet containing empty cells (in the\r\n// beginning of the game all cells are empty)\r\nconst emptyCells = new RoleSet(gameMatrix);\r\n\r\n// Define a function keeping the record of marked cells (for\r\n// each type of marks)\r\nfunction keepState(cell, filledCells) {\r\n  const cellN = gameMatrix.indexOf(cell);\r\n  return [...filledCells, cellN].sort((a, b) => a - b);\r\n}\r\n\r\n// Define two empty RoleSet's for X and O\r\nconst xAndOs = turns.map((turn, i) => {\r\n  const set = new RoleSet();\r\n  // Define action for the event when a new element is being\r\n  // added to RoleSet\r\n  setActionOnAddElement(\r\n    set,\r\n    (() => {\r\n      // Keep the record of marked cells in closure\r\n      let filledCells = [];\r\n      return ({ target, roleSet }) => {\r\n        // Reset the record when the first element is added\r\n        if (roleSet.size === 1) {\r\n          filledCells = [];\r\n        }\r\n\r\n        // Mark the cell\r\n        target[turn]();\r\n\r\n        // Add the cell to the record\r\n        filledCells = keepState(target, filledCells);\r\n\r\n        // Check if the state of win exists\r\n        const possibleWin = analyzePossibleWin(filledCells);\r\n\r\n        // If analyzePossibleWin returns an array of cells\r\n        // set them the win state\r\n        if (possibleWin) {\r\n          emptyCells.clearElements();\r\n          xAndOs.clearElements();\r\n          possibleWin.forEach((n) => {\r\n            gameMatrix[n].markAsWin();\r\n          });\r\n\r\n          // Post the message saying who wins\r\n          postTextMessage(winMessages[i]);\r\n\r\n          // otherwise check if all cells are marked\r\n        } else if (emptyCells.size === 0) {\r\n          // Clear elements from the both sets and post the\r\n          // message that the game is over\r\n          xAndOs.clearElements();\r\n          postTextMessage(gameOverMessage);\r\n        }\r\n      };\r\n    })(),\r\n  );\r\n\r\n  // Define the action for the event of 'click' type\r\n  eventChain({\r\n    roleSet: set,\r\n    type: 'click',\r\n    action() {\r\n      // Post the message that the cell is occupied\r\n      postTextMessage(cellMarkedMessage);\r\n    },\r\n  });\r\n\r\n  return set;\r\n});\r\n\r\n// Add the method that clear both (X and O) RoleSets\r\nxAndOs.clearElements = function () {\r\n  this.forEach(set => set.clearElements());\r\n};\r\n\r\n// Define the function that sets the state of a cell and\r\n// returns the next turn (for X or O)\r\nfunction setCell(currentTurn, cell) {\r\n  xAndOs[currentTurn].addElement(cell);\r\n  return 1 - currentTurn;\r\n}\r\n\r\n// Define the action for the event of 'click' type\r\neventChain({\r\n  roleSet: emptyCells,\r\n  type: 'click',\r\n  action: ((firstTurn) => {\r\n    // Store the current turn in closure\r\n    let currentTurn = firstTurn;\r\n    return ({ target, roleSet }) => {\r\n      // Check if the game has just begun and reset the\r\n      // first turn\r\n      if (roleSet.size === 9) {\r\n        currentTurn = firstTurn;\r\n      }\r\n      currentTurn = setCell(currentTurn, target);\r\n    };\r\n  })(0),\r\n});\r\n\r\n// Define the action that restarts the game\r\nrestartButton.onclick = () => {\r\n  // Reset all cells\r\n  gameMatrix.forEach(cell => cell.resetCell());\r\n\r\n  // and add them to the initial RoleSet\r\n  emptyCells.addElements(gameMatrix);\r\n};\r\n","export default function analyzePossibleWin(filledCells) {\r\n  const winPatterns = [\r\n    [0, 1, 2],\r\n    [3, 4, 5],\r\n    [6, 7, 8],\r\n    [0, 3, 6],\r\n    [1, 4, 7],\r\n    [2, 5, 8],\r\n    [0, 4, 8],\r\n    [2, 4, 6],\r\n  ];\r\n  for (const pattern of winPatterns) {\r\n    let winCells = [];\r\n    for (const cellN of pattern) {\r\n      if (filledCells.includes(cellN)) {\r\n        winCells.push(cellN);\r\n      } else {\r\n        winCells = [];\r\n        break;\r\n      }\r\n    }\r\n    if (winCells.length > 0) {\r\n      return winCells;\r\n    }\r\n  }\r\n  return false;\r\n}\r\n","import React from 'react';\r\nimport ticTacToe from 'tic-tac-toe';\r\n\r\nexport default class TicTacToe extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.myRef = React.createRef();\r\n  }\r\n\r\n  componentDidMount() {\r\n    ticTacToe(this.myRef.current);\r\n  }\r\n\r\n  render() {\r\n    return <div ref={this.myRef} />;\r\n  }\r\n}\r\n","/* eslint-env browser */\r\nimport { matrixContainer } from './matrix';\r\nimport { messageContainer } from './messages';\r\nimport restartButton from './restartButton';\r\n\r\nexport default function createStage(placeholder) {\r\n  const stageStyle = { 'line-height': '0', 'box-sizing': 'content-box' };\r\n  const stage = document.createElement('div');\r\n  Object.assign(stage.style, stageStyle);\r\n\r\n  stage.appendChild(matrixContainer);\r\n  stage.appendChild(messageContainer);\r\n  stage.appendChild(restartButton);\r\n\r\n  placeholder.parentNode.replaceChild(stage, placeholder);\r\n\r\n  return stage;\r\n}\r\n","import React from 'react';\r\nimport TicTacTot from '../components/TicTacToe';\r\n\r\nconst IndexPage = () => <TicTacTot />;\r\n\r\nexport default IndexPage;\r\n","var META = require('./_uid')('meta');\nvar isObject = require('./_is-object');\nvar has = require('./_has');\nvar setDesc = require('./_object-dp').f;\nvar id = 0;\nvar isExtensible = Object.isExtensible || function () {\n  return true;\n};\nvar FREEZE = !require('./_fails')(function () {\n  return isExtensible(Object.preventExtensions({}));\n});\nvar setMeta = function (it) {\n  setDesc(it, META, { value: {\n    i: 'O' + ++id, // object ID\n    w: {}          // weak collections IDs\n  } });\n};\nvar fastKey = function (it, create) {\n  // return primitive with prefix\n  if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return 'F';\n    // not necessary to add metadata\n    if (!create) return 'E';\n    // add missing metadata\n    setMeta(it);\n  // return object ID\n  } return it[META].i;\n};\nvar getWeak = function (it, create) {\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return true;\n    // not necessary to add metadata\n    if (!create) return false;\n    // add missing metadata\n    setMeta(it);\n  // return hash weak collections IDs\n  } return it[META].w;\n};\n// add metadata on freeze-family methods calling\nvar onFreeze = function (it) {\n  if (FREEZE && meta.NEED && isExtensible(it) && !has(it, META)) setMeta(it);\n  return it;\n};\nvar meta = module.exports = {\n  KEY: META,\n  NEED: false,\n  fastKey: fastKey,\n  getWeak: getWeak,\n  onFreeze: onFreeze\n};\n","var isObject = require('./_is-object');\nmodule.exports = function (it, TYPE) {\n  if (!isObject(it) || it._t !== TYPE) throw TypeError('Incompatible receiver, ' + TYPE + ' required!');\n  return it;\n};\n","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","require('./_wks-define')('asyncIterator');\n","var global = require('./_global');\nvar core = require('./_core');\nvar LIBRARY = require('./_library');\nvar wksExt = require('./_wks-ext');\nvar defineProperty = require('./_object-dp').f;\nmodule.exports = function (name) {\n  var $Symbol = core.Symbol || (core.Symbol = LIBRARY ? {} : global.Symbol || {});\n  if (name.charAt(0) != '_' && !(name in $Symbol)) defineProperty($Symbol, name, { value: wksExt.f(name) });\n};\n","exports.f = require('./_wks');\n","'use strict';\n// ECMAScript 6 symbols shim\nvar global = require('./_global');\nvar has = require('./_has');\nvar DESCRIPTORS = require('./_descriptors');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar META = require('./_meta').KEY;\nvar $fails = require('./_fails');\nvar shared = require('./_shared');\nvar setToStringTag = require('./_set-to-string-tag');\nvar uid = require('./_uid');\nvar wks = require('./_wks');\nvar wksExt = require('./_wks-ext');\nvar wksDefine = require('./_wks-define');\nvar enumKeys = require('./_enum-keys');\nvar isArray = require('./_is-array');\nvar anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar createDesc = require('./_property-desc');\nvar _create = require('./_object-create');\nvar gOPNExt = require('./_object-gopn-ext');\nvar $GOPD = require('./_object-gopd');\nvar $DP = require('./_object-dp');\nvar $keys = require('./_object-keys');\nvar gOPD = $GOPD.f;\nvar dP = $DP.f;\nvar gOPN = gOPNExt.f;\nvar $Symbol = global.Symbol;\nvar $JSON = global.JSON;\nvar _stringify = $JSON && $JSON.stringify;\nvar PROTOTYPE = 'prototype';\nvar HIDDEN = wks('_hidden');\nvar TO_PRIMITIVE = wks('toPrimitive');\nvar isEnum = {}.propertyIsEnumerable;\nvar SymbolRegistry = shared('symbol-registry');\nvar AllSymbols = shared('symbols');\nvar OPSymbols = shared('op-symbols');\nvar ObjectProto = Object[PROTOTYPE];\nvar USE_NATIVE = typeof $Symbol == 'function';\nvar QObject = global.QObject;\n// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\nvar setter = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDesc = DESCRIPTORS && $fails(function () {\n  return _create(dP({}, 'a', {\n    get: function () { return dP(this, 'a', { value: 7 }).a; }\n  })).a != 7;\n}) ? function (it, key, D) {\n  var protoDesc = gOPD(ObjectProto, key);\n  if (protoDesc) delete ObjectProto[key];\n  dP(it, key, D);\n  if (protoDesc && it !== ObjectProto) dP(ObjectProto, key, protoDesc);\n} : dP;\n\nvar wrap = function (tag) {\n  var sym = AllSymbols[tag] = _create($Symbol[PROTOTYPE]);\n  sym._k = tag;\n  return sym;\n};\n\nvar isSymbol = USE_NATIVE && typeof $Symbol.iterator == 'symbol' ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  return it instanceof $Symbol;\n};\n\nvar $defineProperty = function defineProperty(it, key, D) {\n  if (it === ObjectProto) $defineProperty(OPSymbols, key, D);\n  anObject(it);\n  key = toPrimitive(key, true);\n  anObject(D);\n  if (has(AllSymbols, key)) {\n    if (!D.enumerable) {\n      if (!has(it, HIDDEN)) dP(it, HIDDEN, createDesc(1, {}));\n      it[HIDDEN][key] = true;\n    } else {\n      if (has(it, HIDDEN) && it[HIDDEN][key]) it[HIDDEN][key] = false;\n      D = _create(D, { enumerable: createDesc(0, false) });\n    } return setSymbolDesc(it, key, D);\n  } return dP(it, key, D);\n};\nvar $defineProperties = function defineProperties(it, P) {\n  anObject(it);\n  var keys = enumKeys(P = toIObject(P));\n  var i = 0;\n  var l = keys.length;\n  var key;\n  while (l > i) $defineProperty(it, key = keys[i++], P[key]);\n  return it;\n};\nvar $create = function create(it, P) {\n  return P === undefined ? _create(it) : $defineProperties(_create(it), P);\n};\nvar $propertyIsEnumerable = function propertyIsEnumerable(key) {\n  var E = isEnum.call(this, key = toPrimitive(key, true));\n  if (this === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return false;\n  return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key] ? E : true;\n};\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key) {\n  it = toIObject(it);\n  key = toPrimitive(key, true);\n  if (it === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return;\n  var D = gOPD(it, key);\n  if (D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) D.enumerable = true;\n  return D;\n};\nvar $getOwnPropertyNames = function getOwnPropertyNames(it) {\n  var names = gOPN(toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (!has(AllSymbols, key = names[i++]) && key != HIDDEN && key != META) result.push(key);\n  } return result;\n};\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(it) {\n  var IS_OP = it === ObjectProto;\n  var names = gOPN(IS_OP ? OPSymbols : toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (has(AllSymbols, key = names[i++]) && (IS_OP ? has(ObjectProto, key) : true)) result.push(AllSymbols[key]);\n  } return result;\n};\n\n// 19.4.1.1 Symbol([description])\nif (!USE_NATIVE) {\n  $Symbol = function Symbol() {\n    if (this instanceof $Symbol) throw TypeError('Symbol is not a constructor!');\n    var tag = uid(arguments.length > 0 ? arguments[0] : undefined);\n    var $set = function (value) {\n      if (this === ObjectProto) $set.call(OPSymbols, value);\n      if (has(this, HIDDEN) && has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;\n      setSymbolDesc(this, tag, createDesc(1, value));\n    };\n    if (DESCRIPTORS && setter) setSymbolDesc(ObjectProto, tag, { configurable: true, set: $set });\n    return wrap(tag);\n  };\n  redefine($Symbol[PROTOTYPE], 'toString', function toString() {\n    return this._k;\n  });\n\n  $GOPD.f = $getOwnPropertyDescriptor;\n  $DP.f = $defineProperty;\n  require('./_object-gopn').f = gOPNExt.f = $getOwnPropertyNames;\n  require('./_object-pie').f = $propertyIsEnumerable;\n  require('./_object-gops').f = $getOwnPropertySymbols;\n\n  if (DESCRIPTORS && !require('./_library')) {\n    redefine(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true);\n  }\n\n  wksExt.f = function (name) {\n    return wrap(wks(name));\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, { Symbol: $Symbol });\n\nfor (var es6Symbols = (\n  // 19.4.2.2, 19.4.2.3, 19.4.2.4, 19.4.2.6, 19.4.2.8, 19.4.2.9, 19.4.2.10, 19.4.2.11, 19.4.2.12, 19.4.2.13, 19.4.2.14\n  'hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables'\n).split(','), j = 0; es6Symbols.length > j;)wks(es6Symbols[j++]);\n\nfor (var wellKnownSymbols = $keys(wks.store), k = 0; wellKnownSymbols.length > k;) wksDefine(wellKnownSymbols[k++]);\n\n$export($export.S + $export.F * !USE_NATIVE, 'Symbol', {\n  // 19.4.2.1 Symbol.for(key)\n  'for': function (key) {\n    return has(SymbolRegistry, key += '')\n      ? SymbolRegistry[key]\n      : SymbolRegistry[key] = $Symbol(key);\n  },\n  // 19.4.2.5 Symbol.keyFor(sym)\n  keyFor: function keyFor(sym) {\n    if (!isSymbol(sym)) throw TypeError(sym + ' is not a symbol!');\n    for (var key in SymbolRegistry) if (SymbolRegistry[key] === sym) return key;\n  },\n  useSetter: function () { setter = true; },\n  useSimple: function () { setter = false; }\n});\n\n$export($export.S + $export.F * !USE_NATIVE, 'Object', {\n  // 19.1.2.2 Object.create(O [, Properties])\n  create: $create,\n  // 19.1.2.4 Object.defineProperty(O, P, Attributes)\n  defineProperty: $defineProperty,\n  // 19.1.2.3 Object.defineProperties(O, Properties)\n  defineProperties: $defineProperties,\n  // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor,\n  // 19.1.2.7 Object.getOwnPropertyNames(O)\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // 19.1.2.8 Object.getOwnPropertySymbols(O)\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// 24.3.2 JSON.stringify(value [, replacer [, space]])\n$JSON && $export($export.S + $export.F * (!USE_NATIVE || $fails(function () {\n  var S = $Symbol();\n  // MS Edge converts symbol values to JSON as {}\n  // WebKit converts symbol values to JSON as null\n  // V8 throws on boxed symbols\n  return _stringify([S]) != '[null]' || _stringify({ a: S }) != '{}' || _stringify(Object(S)) != '{}';\n})), 'JSON', {\n  stringify: function stringify(it) {\n    var args = [it];\n    var i = 1;\n    var replacer, $replacer;\n    while (arguments.length > i) args.push(arguments[i++]);\n    $replacer = replacer = args[1];\n    if (!isObject(replacer) && it === undefined || isSymbol(it)) return; // IE8 returns string on undefined\n    if (!isArray(replacer)) replacer = function (key, value) {\n      if (typeof $replacer == 'function') value = $replacer.call(this, key, value);\n      if (!isSymbol(value)) return value;\n    };\n    args[1] = replacer;\n    return _stringify.apply($JSON, args);\n  }\n});\n\n// 19.4.3.4 Symbol.prototype[@@toPrimitive](hint)\n$Symbol[PROTOTYPE][TO_PRIMITIVE] || require('./_hide')($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);\n// 19.4.3.5 Symbol.prototype[@@toStringTag]\nsetToStringTag($Symbol, 'Symbol');\n// 20.2.1.9 Math[@@toStringTag]\nsetToStringTag(Math, 'Math', true);\n// 24.3.3 JSON[@@toStringTag]\nsetToStringTag(global.JSON, 'JSON', true);\n","// 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O)\nvar $keys = require('./_object-keys-internal');\nvar hiddenKeys = require('./_enum-bug-keys').concat('length', 'prototype');\n\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return $keys(O, hiddenKeys);\n};\n","var pIE = require('./_object-pie');\nvar createDesc = require('./_property-desc');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar has = require('./_has');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nexports.f = require('./_descriptors') ? gOPD : function getOwnPropertyDescriptor(O, P) {\n  O = toIObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return gOPD(O, P);\n  } catch (e) { /* empty */ }\n  if (has(O, P)) return createDesc(!pIE.f.call(O, P), O[P]);\n};\n","'use strict';\nvar dP = require('./_object-dp').f;\nvar create = require('./_object-create');\nvar redefineAll = require('./_redefine-all');\nvar ctx = require('./_ctx');\nvar anInstance = require('./_an-instance');\nvar forOf = require('./_for-of');\nvar $iterDefine = require('./_iter-define');\nvar step = require('./_iter-step');\nvar setSpecies = require('./_set-species');\nvar DESCRIPTORS = require('./_descriptors');\nvar fastKey = require('./_meta').fastKey;\nvar validate = require('./_validate-collection');\nvar SIZE = DESCRIPTORS ? '_s' : 'size';\n\nvar getEntry = function (that, key) {\n  // fast case\n  var index = fastKey(key);\n  var entry;\n  if (index !== 'F') return that._i[index];\n  // frozen object case\n  for (entry = that._f; entry; entry = entry.n) {\n    if (entry.k == key) return entry;\n  }\n};\n\nmodule.exports = {\n  getConstructor: function (wrapper, NAME, IS_MAP, ADDER) {\n    var C = wrapper(function (that, iterable) {\n      anInstance(that, C, NAME, '_i');\n      that._t = NAME;         // collection type\n      that._i = create(null); // index\n      that._f = undefined;    // first entry\n      that._l = undefined;    // last entry\n      that[SIZE] = 0;         // size\n      if (iterable != undefined) forOf(iterable, IS_MAP, that[ADDER], that);\n    });\n    redefineAll(C.prototype, {\n      // 23.1.3.1 Map.prototype.clear()\n      // 23.2.3.2 Set.prototype.clear()\n      clear: function clear() {\n        for (var that = validate(this, NAME), data = that._i, entry = that._f; entry; entry = entry.n) {\n          entry.r = true;\n          if (entry.p) entry.p = entry.p.n = undefined;\n          delete data[entry.i];\n        }\n        that._f = that._l = undefined;\n        that[SIZE] = 0;\n      },\n      // 23.1.3.3 Map.prototype.delete(key)\n      // 23.2.3.4 Set.prototype.delete(value)\n      'delete': function (key) {\n        var that = validate(this, NAME);\n        var entry = getEntry(that, key);\n        if (entry) {\n          var next = entry.n;\n          var prev = entry.p;\n          delete that._i[entry.i];\n          entry.r = true;\n          if (prev) prev.n = next;\n          if (next) next.p = prev;\n          if (that._f == entry) that._f = next;\n          if (that._l == entry) that._l = prev;\n          that[SIZE]--;\n        } return !!entry;\n      },\n      // 23.2.3.6 Set.prototype.forEach(callbackfn, thisArg = undefined)\n      // 23.1.3.5 Map.prototype.forEach(callbackfn, thisArg = undefined)\n      forEach: function forEach(callbackfn /* , that = undefined */) {\n        validate(this, NAME);\n        var f = ctx(callbackfn, arguments.length > 1 ? arguments[1] : undefined, 3);\n        var entry;\n        while (entry = entry ? entry.n : this._f) {\n          f(entry.v, entry.k, this);\n          // revert to the last existing entry\n          while (entry && entry.r) entry = entry.p;\n        }\n      },\n      // 23.1.3.7 Map.prototype.has(key)\n      // 23.2.3.7 Set.prototype.has(value)\n      has: function has(key) {\n        return !!getEntry(validate(this, NAME), key);\n      }\n    });\n    if (DESCRIPTORS) dP(C.prototype, 'size', {\n      get: function () {\n        return validate(this, NAME)[SIZE];\n      }\n    });\n    return C;\n  },\n  def: function (that, key, value) {\n    var entry = getEntry(that, key);\n    var prev, index;\n    // change existing entry\n    if (entry) {\n      entry.v = value;\n    // create new entry\n    } else {\n      that._l = entry = {\n        i: index = fastKey(key, true), // <- index\n        k: key,                        // <- key\n        v: value,                      // <- value\n        p: prev = that._l,             // <- previous entry\n        n: undefined,                  // <- next entry\n        r: false                       // <- removed\n      };\n      if (!that._f) that._f = entry;\n      if (prev) prev.n = entry;\n      that[SIZE]++;\n      // add to index\n      if (index !== 'F') that._i[index] = entry;\n    } return that;\n  },\n  getEntry: getEntry,\n  setStrong: function (C, NAME, IS_MAP) {\n    // add .keys, .values, .entries, [@@iterator]\n    // 23.1.3.4, 23.1.3.8, 23.1.3.11, 23.1.3.12, 23.2.3.5, 23.2.3.8, 23.2.3.10, 23.2.3.11\n    $iterDefine(C, NAME, function (iterated, kind) {\n      this._t = validate(iterated, NAME); // target\n      this._k = kind;                     // kind\n      this._l = undefined;                // previous\n    }, function () {\n      var that = this;\n      var kind = that._k;\n      var entry = that._l;\n      // revert to the last existing entry\n      while (entry && entry.r) entry = entry.p;\n      // get next entry\n      if (!that._t || !(that._l = entry = entry ? entry.n : that._t._f)) {\n        // or finish the iteration\n        that._t = undefined;\n        return step(1);\n      }\n      // return step by kind\n      if (kind == 'keys') return step(0, entry.k);\n      if (kind == 'values') return step(0, entry.v);\n      return step(0, [entry.k, entry.v]);\n    }, IS_MAP ? 'entries' : 'values', !IS_MAP, true);\n\n    // add [@@species], 23.1.2.2, 23.2.2.2\n    setSpecies(NAME);\n  }\n};\n","'use strict';\nvar global = require('./_global');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar redefineAll = require('./_redefine-all');\nvar meta = require('./_meta');\nvar forOf = require('./_for-of');\nvar anInstance = require('./_an-instance');\nvar isObject = require('./_is-object');\nvar fails = require('./_fails');\nvar $iterDetect = require('./_iter-detect');\nvar setToStringTag = require('./_set-to-string-tag');\nvar inheritIfRequired = require('./_inherit-if-required');\n\nmodule.exports = function (NAME, wrapper, methods, common, IS_MAP, IS_WEAK) {\n  var Base = global[NAME];\n  var C = Base;\n  var ADDER = IS_MAP ? 'set' : 'add';\n  var proto = C && C.prototype;\n  var O = {};\n  var fixMethod = function (KEY) {\n    var fn = proto[KEY];\n    redefine(proto, KEY,\n      KEY == 'delete' ? function (a) {\n        return IS_WEAK && !isObject(a) ? false : fn.call(this, a === 0 ? 0 : a);\n      } : KEY == 'has' ? function has(a) {\n        return IS_WEAK && !isObject(a) ? false : fn.call(this, a === 0 ? 0 : a);\n      } : KEY == 'get' ? function get(a) {\n        return IS_WEAK && !isObject(a) ? undefined : fn.call(this, a === 0 ? 0 : a);\n      } : KEY == 'add' ? function add(a) { fn.call(this, a === 0 ? 0 : a); return this; }\n        : function set(a, b) { fn.call(this, a === 0 ? 0 : a, b); return this; }\n    );\n  };\n  if (typeof C != 'function' || !(IS_WEAK || proto.forEach && !fails(function () {\n    new C().entries().next();\n  }))) {\n    // create collection constructor\n    C = common.getConstructor(wrapper, NAME, IS_MAP, ADDER);\n    redefineAll(C.prototype, methods);\n    meta.NEED = true;\n  } else {\n    var instance = new C();\n    // early implementations not supports chaining\n    var HASNT_CHAINING = instance[ADDER](IS_WEAK ? {} : -0, 1) != instance;\n    // V8 ~  Chromium 40- weak-collections throws on primitives, but should return false\n    var THROWS_ON_PRIMITIVES = fails(function () { instance.has(1); });\n    // most early implementations doesn't supports iterables, most modern - not close it correctly\n    var ACCEPT_ITERABLES = $iterDetect(function (iter) { new C(iter); }); // eslint-disable-line no-new\n    // for early implementations -0 and +0 not the same\n    var BUGGY_ZERO = !IS_WEAK && fails(function () {\n      // V8 ~ Chromium 42- fails only with 5+ elements\n      var $instance = new C();\n      var index = 5;\n      while (index--) $instance[ADDER](index, index);\n      return !$instance.has(-0);\n    });\n    if (!ACCEPT_ITERABLES) {\n      C = wrapper(function (target, iterable) {\n        anInstance(target, C, NAME);\n        var that = inheritIfRequired(new Base(), target, C);\n        if (iterable != undefined) forOf(iterable, IS_MAP, that[ADDER], that);\n        return that;\n      });\n      C.prototype = proto;\n      proto.constructor = C;\n    }\n    if (THROWS_ON_PRIMITIVES || BUGGY_ZERO) {\n      fixMethod('delete');\n      fixMethod('has');\n      IS_MAP && fixMethod('get');\n    }\n    if (BUGGY_ZERO || HASNT_CHAINING) fixMethod(ADDER);\n    // weak collections should not contains .clear method\n    if (IS_WEAK && proto.clear) delete proto.clear;\n  }\n\n  setToStringTag(C, NAME);\n\n  O[NAME] = C;\n  $export($export.G + $export.W + $export.F * (C != Base), O);\n\n  if (!IS_WEAK) common.setStrong(C, NAME, IS_MAP);\n\n  return C;\n};\n","'use strict';\nvar $export = require('./_export');\nvar aFunction = require('./_a-function');\nvar toObject = require('./_to-object');\nvar fails = require('./_fails');\nvar $sort = [].sort;\nvar test = [1, 2, 3];\n\n$export($export.P + $export.F * (fails(function () {\n  // IE8-\n  test.sort(undefined);\n}) || !fails(function () {\n  // V8 bug\n  test.sort(null);\n  // Old WebKit\n}) || !require('./_strict-method')($sort)), 'Array', {\n  // 22.1.3.25 Array.prototype.sort(comparefn)\n  sort: function sort(comparefn) {\n    return comparefn === undefined\n      ? $sort.call(toObject(this))\n      : $sort.call(toObject(this), aFunction(comparefn));\n  }\n});\n","'use strict';\nvar fails = require('./_fails');\n\nmodule.exports = function (method, arg) {\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call\n    arg ? method.call(null, function () { /* empty */ }, 1) : method.call(null);\n  });\n};\n","var getPrototypeOf = require(\"./getPrototypeOf\");\n\nvar setPrototypeOf = require(\"./setPrototypeOf\");\n\nvar isNativeFunction = require(\"./isNativeFunction\");\n\nvar construct = require(\"./construct\");\n\nfunction _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n\n  module.exports = _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !isNativeFunction(Class)) return Class;\n\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n\n      _cache.set(Class, Wrapper);\n    }\n\n    function Wrapper() {\n      return construct(Class, arguments, getPrototypeOf(this).constructor);\n    }\n\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return setPrototypeOf(Wrapper, Class);\n  };\n\n  return _wrapNativeSuper(Class);\n}\n\nmodule.exports = _wrapNativeSuper;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","function _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}\n\nmodule.exports = _isNativeFunction;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    module.exports = _construct = Reflect.construct;\n  } else {\n    module.exports = _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}\n\nmodule.exports = _construct;","var dP = require('./_object-dp').f;\nvar FProto = Function.prototype;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// 19.2.4.2 name\nNAME in FProto || require('./_descriptors') && dP(FProto, NAME, {\n  configurable: true,\n  get: function () {\n    try {\n      return ('' + this).match(nameRE)[1];\n    } catch (e) {\n      return '';\n    }\n  }\n});\n","// all enumerable object keys, includes symbols\nvar getKeys = require('./_object-keys');\nvar gOPS = require('./_object-gops');\nvar pIE = require('./_object-pie');\nmodule.exports = function (it) {\n  var result = getKeys(it);\n  var getSymbols = gOPS.f;\n  if (getSymbols) {\n    var symbols = getSymbols(it);\n    var isEnum = pIE.f;\n    var i = 0;\n    var key;\n    while (symbols.length > i) if (isEnum.call(it, key = symbols[i++])) result.push(key);\n  } return result;\n};\n","// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nvar toIObject = require('./_to-iobject');\nvar gOPN = require('./_object-gopn').f;\nvar toString = {}.toString;\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function (it) {\n  try {\n    return gOPN(it);\n  } catch (e) {\n    return windowNames.slice();\n  }\n};\n\nmodule.exports.f = function getOwnPropertyNames(it) {\n  return windowNames && toString.call(it) == '[object Window]' ? getWindowNames(it) : gOPN(toIObject(it));\n};\n","'use strict';\nvar strong = require('./_collection-strong');\nvar validate = require('./_validate-collection');\nvar SET = 'Set';\n\n// 23.2 Set Objects\nmodule.exports = require('./_collection')(SET, function (get) {\n  return function Set() { return get(this, arguments.length > 0 ? arguments[0] : undefined); };\n}, {\n  // 23.2.3.1 Set.prototype.add(value)\n  add: function add(value) {\n    return strong.def(validate(this, SET), value = value === 0 ? 0 : value, value);\n  }\n}, strong);\n","var isObject = require('./_is-object');\nvar setPrototypeOf = require('./_set-proto').set;\nmodule.exports = function (that, target, C) {\n  var S = target.constructor;\n  var P;\n  if (S !== C && typeof S == 'function' && (P = S.prototype) !== C.prototype && isObject(P) && setPrototypeOf) {\n    setPrototypeOf(that, P);\n  } return that;\n};\n","// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nvar isObject = require('./_is-object');\nvar anObject = require('./_an-object');\nvar check = function (O, proto) {\n  anObject(O);\n  if (!isObject(proto) && proto !== null) throw TypeError(proto + \": can't set as prototype!\");\n};\nmodule.exports = {\n  set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line\n    function (test, buggy, set) {\n      try {\n        set = require('./_ctx')(Function.call, require('./_object-gopd').f(Object.prototype, '__proto__').set, 2);\n        set(test, []);\n        buggy = !(test instanceof Array);\n      } catch (e) { buggy = true; }\n      return function setPrototypeOf(O, proto) {\n        check(O, proto);\n        if (buggy) O.__proto__ = proto;\n        else set(O, proto);\n        return O;\n      };\n    }({}, false) : undefined),\n  check: check\n};\n","'use strict';\nvar strong = require('./_collection-strong');\nvar validate = require('./_validate-collection');\nvar MAP = 'Map';\n\n// 23.1 Map Objects\nmodule.exports = require('./_collection')(MAP, function (get) {\n  return function Map() { return get(this, arguments.length > 0 ? arguments[0] : undefined); };\n}, {\n  // 23.1.3.6 Map.prototype.get(key)\n  get: function get(key) {\n    var entry = strong.getEntry(validate(this, MAP), key);\n    return entry && entry.v;\n  },\n  // 23.1.3.9 Map.prototype.set(key, value)\n  set: function set(key, value) {\n    return strong.def(validate(this, MAP), key === 0 ? 0 : key, value);\n  }\n}, strong, true);\n"],"sourceRoot":""}